<!DOCTYPE html>
<html>
    <head>
        <title>Changing Style Sheet</title>
        <link id="mylink" href="myStyle.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h2>Allow User to Select Their Style Preference</h2>
        <p>
            In this example, we reference an external javascript file that has a few 
            simple functions for reading and writing cookies (feel free to copy this 
            javascript file and use it in your web site). 
        </p>
        <p>
            We added an id to the &lt;link&gt; tag (in the head), so that we can
            programmatically change the &lt;link&gt;'s href attribute, which makes
            the html page point to a different style sheet. 
        </p>
        <p>
            To see how this works, run it in Chrome and press F12 to bring up Chrome's 
            javaScript debugger. Click on "Console" so that you can see all that is 
            output by the console.log() function. Watch how the user's preference for 
            style sheet is written to the cookie when they select one color or the other. 
            I demonstrated how this can be done by using he 'onclick' event of 3 separate 
            buttons and how it can be done by using the 'onchange' event of a select list.
        </p>
        <p>
            Then refresh the page. If everything is working, the color that they selected 
            should "stick" (because the page reads from the cookie every time the page 
            is loaded). Obviously, the style choices are rather dull, but this is just a 
            simple example that shows you how you could have several styles and allow 
            the user to select the one they want.
        </p>
        <input type ="button" value = "change to blue" onclick="changeCSS('blueSheet.css')"/>
        &nbsp;&nbsp;
        <input type ="button" value = "change to green" onclick="changeCSS('greenSheet.css')"/>
        &nbsp;&nbsp;
        <input type ="button" value = "change to default" onclick="changeCSS('myStyle.css')"/>
        &nbsp;&nbsp;
        Change style to 
        <select onchange="changeCSS(this.value);">
            <option value="myStyle.css">default (gray) background</option>
            <option value="blueSheet.css">blue background</option>
            <option value="greenSheet.css">green background</option>
        </select>

        <script src="cookies.js"></script>
        <script type="text/javascript">

            function changeCSS(sheetName) {
                document.getElementById("mylink").href = sheetName;
                setCookie("userStyle", sheetName, 365);
            }

            /*
             * Main program
             * 
             * The name ("userStyle") you give when you read the cookie
             * must match the name you gave when you wrote it.
             */
            theStyle = getCookie("userStyle");
            if ((theStyle != null) && (theStyle != "")) {
                document.getElementById('mylink').href = theStyle;
            }
        </script>
    </body>
</html>
