<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Cookie Example</title>
        <style type="text/css">
            body{ background-color:#84A9CB;}
        </style>

    </head>

    <body>
        <h2>JS code to Read/Write Array of Objects to Cookie</h2>
        <form name="myForm">
            Friend Name: <input type="text" name="friendName" value="sally"> &nbsp; &nbsp;
            Telephone: <input type="text" name="friendTel" value="123 456 9000"><br/>
        </form>
        <p>
            <button onClick="addFriend()">Add to List</button> &nbsp;
            <button onclick="printFriends()">Print List</button> &nbsp;
            <br/><br/>
            <button onclick="writeFriends()">Write List to Cookie</button> &nbsp;
            <button onclick="readFriends()">Read List from Cookie</button> &nbsp;
            <button onClick="alert('cookie is: ' + document.cookie);">Show Entire Cookie</button>
        </p>
        <p id="friendPrintout"></p>

        <script src="Cookie.js">
                // creates an object named "Cookie" that has several useful Cookie methods.
        </script>

        <script>
            "use strict";

            function my$(ele) {
                return document.getElementById(ele);
            }

            var friendList = [];
            function addFriend() {
                var newFriend = {
                    name: document.myForm.friendName.value,
                    tel: myForm.friendTel.value
                };
                //friendList.push(newFriend);
                friendList[friendList.length] = newFriend;
                printFriends();
            }

            function printFriends() {
                my$("friendPrintout").innerHTML = "<h3>Friend List</h3>";
                for (var i = 0; i < friendList.length; i++) {
                    my$("friendPrintout").innerHTML += friendList[i].name + ": " + friendList[i].tel + "<br/>";
                }
            }

            function writeFriends() {
                //Cookie.setCookieObj("myFriends", friendList, 365);
                //write private object list into a new public object list 
                var newChampList = [];
                function addChamp(i) {
                    var newChamp = {
                        name: championList[i].getName(),
                        role: championList[i].getRole(),
                        playRate: championList[i].getRole()

                    };
                    newChampList[newChampList.length] = newChamp; 
                }
                for (var i = 0; i < championList.length; i++) {
                    addChamp(Number(i)); 
                }
                Cookie.setCookieObj("myChampions", newChampList, 365);
            }

            function readFriends() {
                friendList = Cookie.getCookieObj("myChampions");
                printFriends();
            }

            printFriends();

        </script>
    </body>
</html>